@model hurricanesGUI.ViewModels.HurricanesIndexViewModel
@using hurricanesGUI.Models;
@using hurricanesGUI.ViewModels;

@{
    ViewBag.Title = "Hurricanes Index";
}

<h2>Hurricanes Index</h2>


<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>@Html.LabelFor(m => m.NewHurricane.Id, new { @class = "control-label" })</th>
            <th>@Html.LabelFor(m => m.NewHurricane.Name, new { @class = "control-label" })</th>
            <th>@Html.LabelFor(m => m.NewHurricane.SaffirSimpsonCategory, new { @class = "control-label" })</th>
            <th>@Html.LabelFor(m => m.NewHurricane.LandfallDate, new { @class = "control-label" })</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (HurricaneViewModel hurricane in Model.Hurricanes) {
            <tr>
                <td>@Html.DisplayFor(m => hurricane.Id)</td>
                <td>@Html.DisplayFor(m => hurricane.Name)</td>
                <td>@Html.DisplayFor(m => hurricane.SaffirSimpsonCategory)</td>
                <td>@Html.DisplayFor(m => hurricane.LandfallDate)</td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = hurricane.Id}, new { @class = "btn btn-sm btn-info" })
                    @Html.ActionLink("Delete", "Delete", new { id = hurricane.Id}, new { @class = "btn btn-sm btn-danger"})
                </td>
            </tr>
        }
    </tbody>
</table>

@using(Html.BeginForm("AddNew", "Hurricanes", method: FormMethod.Post)) {
    @Html.EditorFor(m => m.NewHurricane, new { AvailableCounties = Model.AvailableCounties })
    <div class="form-group" style="margin-top: 1em;">
        <input type="submit" class="btn btn-sm btn-success" value="Add" />
    </div>
}


@section scripts {
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
}